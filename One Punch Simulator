
pcall(function()
	game:GetService("CoreGui").ScreenGui:Destroy()
end)


local Players = game:GetService("Players")
local Plr = Players.LocalPlayer


local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/JRL-lav/Scripts/main/U", true))()

local Window = Library:CreateWindow("Main")
local folder = Window:AddFolder('Farming')
zones = {}
for i,v in pairs(game:GetService("Workspace").Dummys:GetChildren()) do 
	table.insert(zones,v.Name)
end
local zone = "Toxic"
folder:AddList({text = "Select Zone",flag = "list" , value = "Toxic",values = zones, callback = function(bool) 
	zone = bool
	Refresh()
end})


local mobs = {}
for i,v in pairs(game:GetService("Workspace").Dummys[zone]:GetChildren()) do
    if not table.find(mobs,v.Name) then
        table.insert(mobs, v.Name)
    end
end
local mob
local drop = folder:AddList({text = "Select Mob",flag = "list" , values = mobs, callback = function(bool) 
	mob = bool
end})
folder:AddButton({text = "Refresh Mobs", flag = "button", callback = function() 
	drop:RemoveAll("")
	local mobs2 = {}
	for i,v in pairs(game:GetService("Workspace").Dummys[zone]:GetChildren()) do
    	if not table.find(mobs2,v.Name) then
			table.insert(mobs2, v.Name)
			drop:AddValue(v.Name)
		end
	end
end})

local Farm
folder:AddToggle({text = "Auto Farm",state =false ,callback = function(bool) 
	Farm = bool
end})
local Strength
folder:AddToggle({text = "Auto Strength",state =false ,callback = function(bool) 
	Strength = bool
end})
local Speed
folder:AddToggle({text = "Auto Speed",state =false ,callback = function(bool) 
	Speed = bool
end})

local folder = Window:AddFolder('Quest')
local Quests
folder:AddList({text = "Select Quest",flag = "list" , value = "Normal",values = {"Normal","Boss"}, callback = function(bool) 
	Quests = bool
end})
local Quest
folder:AddToggle({text = "Auto Quest",state =false ,callback = function(bool) 
	Quest = bool
end})



local Window = Library:CreateWindow("Other")
local Teleports = Window:AddFolder('Teleports')

for i,v in pairs(game:GetService("Workspace").Portals:GetChildren()) do 
	if v:IsA("Folder") and v.Name ~= "ToPortalAreas" then 
		Teleports:AddButton({text = v.Name, flag = "button", callback = function() 
			Plr.Character.HumanoidRootPart.CFrame = v.Portal2.Teleport.CFrame * CFrame.new(0,0,-10)
		end})
	end
end

local setting = Window:AddFolder('Settings')

local dis = 4
setting:AddSlider({text = "Distance", value = dis, min = 1, max = 5, callback = function(bool)
	dis = bool
end})
local Style = "Under"
setting:AddList({text = "Farming Style",flag = "list",value = "Under" , values = {"Above","Behind","Under"}, callback = function(bool) 
	Style = bool
end})
Library:Init()

spawn(function()
	while wait() do 
		if Farm then
			pcall(function()
				for i,v in pairs(game:GetService("Workspace").Dummys[zone]:GetChildren()) do 
					if v.Name == mob and Farm and v:FindFirstChild("Torso") and v.HealthValue.Value > 0 then 
						repeat wait()
							if Style == "Above" then 
								Plr.Character.HumanoidRootPart.CFrame = v.Torso.CFrame * CFrame.Angles(math.rad(-90),0,0) + Vector3.new(0,dis,0)
							elseif Style == "Behind" then 
								Plr.Character.HumanoidRootPart.CFrame = v.Torso.CFrame * CFrame.new(0,0,dis)
							else
								Plr.Character.HumanoidRootPart.CFrame = v.Torso.CFrame * CFrame.Angles(math.rad(90),0,0) + Vector3.new(0,-dis,0)
							end
						until not v:FindFirstChild("Torso") or v.HealthValue.Value <= 0 or not Farm
					end
				end
			end)
		end
	end
end)


spawn(function() 
    while wait() do 
		if Quest then
            if Plr.PlayerGui.QuestScreen.QuestFrame.Position == UDim2.new(1,0,1.95000005,0) then
                local args = {
                    [1] = "Toxic",
                    [2] = Quests
                }

                game:GetService("ReplicatedStorage").Events.PlayQuest:FireServer(unpack(args))
                wait(.2)
            end
        end
    end
end)

game:GetService('RunService').Stepped:connect(function()
	if Farm then
		pcall(function()
			game.Players.LocalPlayer.Character.Humanoid:ChangeState(11)
		end)
	end
	if Speed then 
		game:GetService("ReplicatedStorage").Events.GiverSpeed_Client_Event:FireServer()

	end
	if Strength then
        game:GetService("ReplicatedStorage").Events.GiverPower_Client_Event:FireServer()
	end
end)

function Refresh()
	drop:RemoveAll("")
	local mobs2 = {}
	for i,v in pairs(game:GetService("Workspace").Dummys[zone]:GetChildren()) do
    	if not table.find(mobs2,v.Name) then
			table.insert(mobs2, v.Name)
			drop:AddValue(v.Name)
		end
	end
end
